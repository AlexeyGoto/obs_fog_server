# ======================
# ОБЩЕЕ
# ======================

# Внешний URL панели (используется для генерации ссылок)
# Пример: http://YOUR_SERVER_IP:8080
APP_BASE_URL=http://127.0.0.1:8080

# Часовой пояс отображения дат в веб-панели
DISPLAY_TZ=Europe/Amsterdam

# JWT для сессий веб-панели (будет сгенерен скриптом scripts/setup_env.sh)
JWT_SECRET=

# База данных OBS (по умолчанию SQLite в ./data/db/obs.db)
DATABASE_URL=sqlite:////data/db/obs.db

# HLS URL (внутри docker-сети)
HLS_BASE_URL=http://nginx:8080/hls

# Автоудаление клипов после отправки
AUTO_DELETE=0
CLIP_SECONDS=420

# Сколько часов хранить MP4-клипы на сервере (0 = не чистить)
CLIP_RETENTION_HOURS=72
HLS_RETENTION_HOURS=24

# Ограничение Telegram на размер файла (в МБ)
TELEGRAM_MAX_MB=50


# ======================
# TELEGRAM BOT (клипы + одобрение регистрации)
# ======================

# Токен Telegram-бота
TELEGRAM_BOT_TOKEN=8016722943:AAFda7Gf3ozIEK-FP2I2yPyItc_GZaTF_E4

# Чат ID администратора (куда прилетает кнопка "Одобрить/Отклонить" при регистрации)
TELEGRAM_ADMIN_ID=922064185

# Включить обязательное одобрение регистрации (1/0)
APPROVAL_REQUIRED=1


# ======================
# STEAMSLOT (админка /steamslot)
# ======================

# Отдельная БД SteamSlot (ВАЖНО: не используйте DATABASE_URL OBS!)
STEAMSLOT_DATABASE_URL=sqlite:////data/db/steamslot.db

# Доступ в админку SteamSlot
STEAMSLOT_ADMIN_USER=ded_sw
STEAMSLOT_ADMIN_PASS=46466452

# Cookie-session (Fernet key). Если пусто — будет сгенерен скриптом scripts/setup_env.sh
STEAMSLOT_SESSION_KEY=
STEAMSLOT_SESSION_TTL_SECONDS=43200
STEAMSLOT_COOKIE_SECURE=0


# ======================
# WORKER / API keys
# ======================

# Мастер-ключ API для системных запросов (может быть пустым)
MASTER_API_KEY=

# Ключ шифрования файлов аккаунтов (может быть пустым)
FILE_ENC_KEY=
















# =========================
# PUBLIC BASE URL
# =========================
# Сейчас без домена:
#APP_BASE_URL="https://18ad8968-69ef-4db2-a924-e7dc5c9d06a9-e1.tunnel4.com"

APP_BASE_URL="http://127.0.0.1:8080" 

# Если поставишь домен + HTTPS потом — поменяешь на:
# APP_BASE_URL="https://your-domain.com"

# =========================
# HLS URL (внутри docker-сети)
# =========================
HLS_BASE_URL="http://nginx:8080/hls"

# =========================
# AUTH / SECURITY
# =========================
JWT_SECRET="CHANGE_THIS_TO_A_LONG_RANDOM_STRING_64_CHARS_MIN"
MASTER_API_KEY="CHANGE_THIS_TO_A_LONG_RANDOM_STRING_64_CHARS_MIN"
FILE_ENC_KEY="CHANGE_THIS_TO_32_CHARS_MIN4565425625"

# =========================
# TELEGRAM
# =========================
TELEGRAM_BOT_TOKEN="8016722943:AAFda7Gf3ozIEK-FP2I2yPyItc_GZaTF_E4"
TELEGRAM_ADMIN_ID="922064185"
TELEGRAM_MAX_MB="50"



# =========================
# OBS DATABASE
# =========================
# Рекомендую sqlite на VPS, это быстро и просто:
DATABASE_URL=psql postgresql://ded_sw:N%2BKwXe6DPy7(lH@31.130.135.177:5432/rtmp_db

# Если хочешь OBS тоже на Postgres — скажи, дам правильный URL и миграции

# =========================
# STEAMSLOT SETTINGS
# =========================
STEAMSLOT_ROOT_PATH="/steamslot"

# Если steamslot использует Postgres отдельно:
STEAMSLOT_POSTGRESQL_HOST="31.130.135.177"
STEAMSLOT_POSTGRESQL_PORT="5432"
STEAMSLOT_POSTGRESQL_USER="ded_sw"
STEAMSLOT_POSTGRESQL_PASSWORD="N+KwXe6DPy7(lH"
STEAMSLOT_POSTGRESQL_DBNAME="rtmp_db"

# И лучше сразу собрать URL (важно: + должен быть %2B)
STEAMSLOT_DATABASE_URL=postgresql://ded_sw:N%2BKwXe6DPy7(lH@31.130.135.177:5432/steam-login-slot-service


# =========================
# ADMIN PANEL (если используется)
# =========================
ADMIN_USER="ded_sw"
ADMIN_PASS="46466452"

DATA_DIR=/data


