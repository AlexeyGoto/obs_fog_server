# ============================================
# OBS Fog Server - Environment Configuration
# ============================================
# Copy this file to .env and fill in the values
# NEVER commit .env to version control!

# ======================
# APPLICATION
# ======================

# Public URL of the application (for links, callbacks)
APP_BASE_URL=http://localhost:8080

# Environment: development, staging, production
ENVIRONMENT=development

# Debug mode (enables detailed logs, API docs)
DEBUG=true

# Timezone for displaying dates
DISPLAY_TZ=Europe/Amsterdam


# ======================
# DATABASE (PostgreSQL)
# ======================

# PostgreSQL connection
POSTGRES_USER=obsfog
POSTGRES_PASSWORD=change_this_secure_password
POSTGRES_DB=obsfog

# Full connection URL (auto-constructed in docker-compose)
# For local development without Docker:
# DATABASE_URL=postgresql+asyncpg://obsfog:password@localhost:5432/obsfog


# ======================
# REDIS
# ======================

# Redis URL for rate limiting and caching
# REDIS_URL=redis://localhost:6379/0


# ======================
# AUTHENTICATION
# ======================

# JWT Secret - MUST be changed in production!
# Generate with: openssl rand -hex 64
JWT_SECRET=CHANGE_THIS_TO_RANDOM_64_CHAR_STRING_IN_PRODUCTION

# Token expiration
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# Session cookie settings
SESSION_COOKIE_NAME=obsfog_session
SESSION_SECURE=true


# ======================
# TELEGRAM BOT
# ======================

# Bot token from @BotFather
TELEGRAM_BOT_TOKEN=

# Admin chat ID (receives approval requests)
# Get your ID by messaging @userinfobot
TELEGRAM_ADMIN_ID=

# Require admin approval for new registrations
APPROVAL_REQUIRED=false


# ======================
# TELEGRAM WALLET PAYMENT (USDT TON)
# ======================

# Provider token from @BotFather -> Payments
TELEGRAM_WALLET_TOKEN=

# Premium subscription settings
PREMIUM_PRICE_USDT=10.0
PREMIUM_DURATION_DAYS=30


# ======================
# STREAMING
# ======================

# RTMP server URL (for OBS configuration)
RTMP_URL=rtmp://your-server-ip:1935/live

# HLS base URL (internal, for worker)
HLS_BASE_URL=http://nginx:8080/hls

# Clip settings
CLIP_SECONDS=420
CLIP_RETENTION_HOURS=72

# Max file size for Telegram (MB)
TELEGRAM_MAX_FILE_MB=50

# Auto-delete clips after sending to Telegram
AUTO_DELETE_AFTER_SEND=false


# ======================
# STEAMSLOT
# ======================

# Admin credentials for SteamSlot management
STEAMSLOT_ADMIN_USER=admin
STEAMSLOT_ADMIN_PASS=change_this_password

# File encryption key (Fernet)
# Generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
FILE_ENCRYPTION_KEY=


# ======================
# RATE LIMITING
# ======================

# Requests per window
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW_SECONDS=60


# ======================
# DEVELOPMENT ONLY
# ======================

# For local development without Docker:
# DATABASE_URL=postgresql+asyncpg://obsfog:devpassword@localhost:5432/obsfog_dev
# REDIS_URL=redis://localhost:6379/0
